// Generated by CoffeeScript 1.6.2
(function() {
  var $;

  $ = jQuery;

  $.fn.extend({
    resizableColumns: function(method_or_opts) {
      var makeResizable, store;

      if (method_or_opts == null) {
        method_or_opts = {};
      }
      store = void 0;
      makeResizable = function($table) {
        var restoreColumnWidths, saveColumnWidths, tableId;

        tableId = $table.data('resizable-columns-id');
        restoreColumnWidths = function() {
          return $table.find("tr th").each(function() {
            var columnId;

            columnId = tableId + '-' + $(this).data('resizable-column-id');
            return $(this).css('width', store.get(columnId));
          });
        };
        saveColumnWidths = function() {
          return $table.find('tr th').each(function() {
            var columnId;

            columnId = tableId + '-' + $(this).data('resizable-column-id');
            return store.set(columnId, $(this)[0].style.width);
          });
        };
        $table.find('tr th').resizable({
          handles: 'e',
          stop: function(event, ui) {
            return saveColumnWidths();
          }
        });
        return restoreColumnWidths();
      };
      return $(this).each(function() {
        if (typeof method_or_opts === 'string') {
          return $(this).resizable(method_or_opts);
        } else {
          store = method_or_opts.store;
          return makeResizable($(this));
        }
      });
    }
  });

}).call(this);
